{
  "title": "Bedrock Response Validation Schema",
  "description": "Schema for validating Bedrock LLM responses with processing metadata",
  "additionalProperties": false,
  "properties": {
    "category": {
      "description": "Exactly one category from the predefined list (case-sensitive match required)",
      "enum": [
        "TrueDNR",
        "Confirmed_Delay",
        "Delivery_Attempt_Failed",
        "Seller_Unable_To_Ship",
        "PDA_Undeliverable",
        "PDA_Early_Refund",
        "Buyer_Received_WrongORDefective_Item",
        "Returnless_Refund",
        "BuyerCancellation",
        "Return_NoLongerNeeded",
        "Product_Information_Support",
        "Insufficient_Information"
      ],
      "type": "string"
    },
    "confidence_score": {
      "description": "Decimal number between 0.00 and 1.00 indicating classification certainty",
      "maximum": 1.0,
      "minimum": 0.0,
      "type": "number"
    },
    "key_evidence": {
      "description": "Object containing three arrays of evidence from different sources",
      "properties": {
        "message_evidence": {
          "description": "Direct quotes from dialogue with speaker identification",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "shipping_evidence": {
          "description": "Tracking events with timestamps",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "timeline_evidence": {
          "description": "Chronological sequence of key events",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "message_evidence",
        "shipping_evidence",
        "timeline_evidence"
      ],
      "type": "object"
    },
    "reasoning": {
      "description": "Object containing three arrays explaining the classification decision",
      "properties": {
        "contradicting_evidence": {
          "description": "Evidence that contradicts the classification (use empty array if none)",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "primary_factors": {
          "description": "Main reasons supporting the selected category",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "supporting_evidence": {
          "description": "Additional evidence that strengthens the classification",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "primary_factors",
        "supporting_evidence",
        "contradicting_evidence"
      ],
      "type": "object"
    }
  },
  "required": [
    "category",
    "confidence_score",
    "key_evidence",
    "reasoning"
  ],
  "type": "object",
  "processing_config": {
    "format_type": "structured_json",
    "response_model_name": "Buyer_Seller_ClassificationResponse",
    "validation_level": "comprehensive"
  },
  "template_metadata": {
    "template_version": "2.0",
    "generation_timestamp": "20251110_041945",
    "category_count": 12,
    "category_names": [
      "TrueDNR",
      "Confirmed_Delay",
      "Delivery_Attempt_Failed",
      "Seller_Unable_To_Ship",
      "PDA_Undeliverable",
      "PDA_Early_Refund",
      "Buyer_Received_WrongORDefective_Item",
      "Returnless_Refund",
      "BuyerCancellation",
      "Return_NoLongerNeeded",
      "Product_Information_Support",
      "Insufficient_Information"
    ],
    "output_format_source": "output_format.json",
    "task_type": "buyer_seller_classification",
    "template_style": "structured"
  }
}