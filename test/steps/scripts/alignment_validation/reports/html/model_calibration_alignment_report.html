<!DOCTYPE html>
<html>
<head>
    <title>Alignment Validation Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background-color: #f0f0f0; padding: 20px; border-radius: 5px; }
        .summary { display: flex; justify-content: space-around; margin: 20px 0; }
        .metric { text-align: center; padding: 10px; }
        .metric h3 { margin: 0; font-size: 2em; }
        .metric p { margin: 5px 0; color: #666; }
        .passing { color: #28a745; }
        .failing { color: #dc3545; }
        .warning { color: #ffc107; }
        .scoring-section { margin: 20px 0; padding: 20px; background-color: #f8f9fa; border-radius: 5px; }
        .score-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0; }
        .score-card { background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #007bff; text-align: center; }
        .score-excellent { border-left-color: #28a745; }
        .score-good { border-left-color: #17a2b8; }
        .score-fair { border-left-color: #ffc107; }
        .score-poor { border-left-color: #dc3545; }
        .score-value { font-size: 2em; font-weight: bold; margin: 10px 0; }
        .level-section { margin: 20px 0; border: 1px solid #ddd; border-radius: 5px; }
        .level-header { background-color: #e9ecef; padding: 10px; font-weight: bold; }
        .test-result { padding: 10px; border-bottom: 1px solid #eee; }
        .test-passed { border-left: 4px solid #28a745; }
        .test-failed { border-left: 4px solid #dc3545; }
        .issue { margin: 5px 0; padding: 5px; background-color: #f8f9fa; border-radius: 3px; }
        .critical { border-left: 4px solid #dc3545; }
        .error { border-left: 4px solid #fd7e14; }
        .warning { border-left: 4px solid #ffc107; }
        .info { border-left: 4px solid #17a2b8; }
        .recommendations { margin: 20px 0; }
        .recommendation { margin: 10px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .high-priority { border-left: 4px solid #dc3545; }
        .medium-priority { border-left: 4px solid #ffc107; }
        .low-priority { border-left: 4px solid #28a745; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Alignment Validation Report</h1>
        <p>Generated: 2025-09-18 07:45:54</p>
        <p>Overall Status: <span class="passing">PASSING</span></p>
        <p>Overall Alignment Score: <strong>71.4/100</strong></p>
    </div>
    
    <div class="summary">
        <div class="metric">
            <h3>100.0%</h3>
            <p>Pass Rate</p>
        </div>
        <div class="metric">
            <h3>3</h3>
            <p>Total Tests</p>
        </div>
        <div class="metric">
            <h3>3</h3>
            <p>Total Issues</p>
        </div>
        <div class="metric">
            <h3>0</h3>
            <p>Critical Issues</p>
        </div>
    </div>
    
    <div class="scoring-section">
        <h2>Alignment Scoring</h2>
        <div class="score-grid">
            
        <div class="score-card score-fair">
            <h4>Overall Alignment</h4>
            <div class="score-value">71.4</div>
            <p>Fair</p>
        </div>
        
        <div class="score-card score-excellent">
            <h4>Script ↔ Contract</h4>
            <div class="score-value">100.0</div>
            <p>Excellent</p>
        </div>
                
        <div class="score-card score-excellent">
            <h4>Contract ↔ Specification</h4>
            <div class="score-value">100.0</div>
            <p>Excellent</p>
        </div>
                
        <div class="score-card score-poor">
            <h4>Specification ↔ Dependencies</h4>
            <div class="score-value">0.0</div>
            <p>Poor</p>
        </div>
                
        <div class="score-card score-excellent">
            <h4>Builder ↔ Configuration</h4>
            <div class="score-value">100.0</div>
            <p>Excellent</p>
        </div>
                
        </div>
    </div>
    
    
        <div class="level-section">
            <div class="level-header">Level 1: Script ↔ Contract</div>
        
            <div class="test-result test-passed">
                <h4>currency_conversion</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Main function follows testability pattern with all required parameters
                    <br><em>Recommendation: No action needed - script follows testability best practices</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Helper functions use direct environment access - consider parameter passing
                    <br><em>Recommendation: Pass environment variables as parameters to helper functions instead of direct access</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Main function expects environ_vars parameter but no environment collection found in entry point
                    <br><em>Recommendation: Add environment variable collection in __main__ block to pass to main function</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for input_paths
                    <br><em>Recommendation: Use input_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for output_paths
                    <br><em>Recommendation: Use output_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> No container detection found - consider adding hybrid mode support
                    <br><em>Recommendation: Add container detection to support both local and container execution</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Helper function 'None' accesses environment directly
                    <br><em>Recommendation: Refactor 'None' to accept environment variables as parameters</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Processing script uses sklearn framework
                    <br><em>Recommendation: Ensure sklearn dependencies are properly specified</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>dummy_training</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Main function follows testability pattern with all required parameters
                    <br><em>Recommendation: No action needed - script follows testability best practices</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Main function expects environ_vars parameter but no environment collection found in entry point
                    <br><em>Recommendation: Add environment variable collection in __main__ block to pass to main function</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Testability parameters defined but not used: environ_vars, job_args
                    <br><em>Recommendation: Either use the testability parameters or remove them from function signature</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for input_paths
                    <br><em>Recommendation: Use input_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> No container detection found - consider adding hybrid mode support
                    <br><em>Recommendation: Add container detection to support both local and container execution</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>model_calibration</h4>
                <p>Status: PASSED</p>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Optional environment variable accessed without default: MULTICLASS_CATEGORIES
                    <br><em>Recommendation: Provide default value when accessing optional variable MULTICLASS_CATEGORIES</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Script defines config-driven argument provided by builder: --job-type (accessed as args.job_type)
                    <br><em>Recommendation: Argument --job-type is provided by builder - no action needed</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Main function follows testability pattern with all required parameters
                    <br><em>Recommendation: No action needed - script follows testability best practices</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Helper functions use direct environment access - consider parameter passing
                    <br><em>Recommendation: Pass environment variables as parameters to helper functions instead of direct access</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Main function expects environ_vars parameter but no environment collection found in entry point
                    <br><em>Recommendation: Add environment variable collection in __main__ block to pass to main function</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for input_paths
                    <br><em>Recommendation: Use input_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for output_paths
                    <br><em>Recommendation: Use output_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for output_paths
                    <br><em>Recommendation: Use output_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for output_paths
                    <br><em>Recommendation: Use output_paths['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for environ_vars
                    <br><em>Recommendation: Use environ_vars['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Consider using dictionary-style access for job_args
                    <br><em>Recommendation: Use job_args['key'] for accessing nested values</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> No container detection found - consider adding hybrid mode support
                    <br><em>Recommendation: Add container detection to support both local and container execution</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Helper function 'from_env' accesses environment directly
                    <br><em>Recommendation: Refactor 'from_env' to accept environment variables as parameters</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Helper function 'None' accesses environment directly
                    <br><em>Recommendation: Refactor 'None' to accept environment variables as parameters</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Processing script uses sklearn framework
                    <br><em>Recommendation: Ensure sklearn dependencies are properly specified</em>
                </div>
                
            </div>
            </div>
        <div class="level-section">
            <div class="level-header">Level 2: Contract ↔ Specification</div>
        
            <div class="test-result test-passed">
                <h4>currency_conversion</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Smart Specification Selection: validated against 4 variants
                    <br><em>Recommendation: Multi-variant validation completed successfully</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Step type resolved via registry: CurrencyConversion_Training -> CurrencyConversion -> Processing
                    <br><em>Recommendation: Using Processing step property paths for validation</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Valid property path in output converted_data: properties.ProcessingOutputConfig.Outputs['converted_data'].S3Output.S3Uri
                    <br><em>Recommendation: Property path is correctly formatted for the step type</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Property path validation completed for currency_conversion_contract
                    <br><em>Recommendation: Validated 1/1 outputs with property paths against SageMaker documentation</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>dummy_training</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Step type resolved via registry: DummyTraining -> DummyTraining -> Processing
                    <br><em>Recommendation: Using Processing step property paths for validation</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Valid property path in output model_input: properties.ProcessingOutputConfig.Outputs['model_input'].S3Output.S3Uri
                    <br><em>Recommendation: Property path is correctly formatted for the step type</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Property path validation completed for dummy_training_contract
                    <br><em>Recommendation: Validated 1/1 outputs with property paths against SageMaker documentation</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>model_calibration</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Smart Specification Selection: validated against 4 variants
                    <br><em>Recommendation: Multi-variant validation completed successfully</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Step type resolved via registry: ModelCalibration_Training -> ModelCalibration -> Processing
                    <br><em>Recommendation: Using Processing step property paths for validation</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Valid property path in output calibration_output: properties.ProcessingOutputConfig.Outputs['calibration_output'].S3Output.S3Uri
                    <br><em>Recommendation: Property path is correctly formatted for the step type</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Valid property path in output metrics_output: properties.ProcessingOutputConfig.Outputs['metrics_output'].S3Output.S3Uri
                    <br><em>Recommendation: Property path is correctly formatted for the step type</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Valid property path in output calibrated_data: properties.ProcessingOutputConfig.Outputs['calibrated_data'].S3Output.S3Uri
                    <br><em>Recommendation: Property path is correctly formatted for the step type</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Property path validation completed for model_calibration_contract
                    <br><em>Recommendation: Validated 3/3 outputs with property paths against SageMaker documentation</em>
                </div>
                
            </div>
            </div>
        <div class="level-section">
            <div class="level-header">Level 3: Specification ↔ Dependencies</div>
        
            <div class="test-result test-failed">
                <h4>currency_conversion</h4>
                <p>Status: FAILED</p>
                
                <div class="issue critical">
                    <strong>CRITICAL:</strong> Specification file not found: /Users/tianpeixie/github_workspace/cursus/src/cursus/steps/specs/currency_conversion_spec.py
                    <br><em>Recommendation: Create the specification file currency_conversion_spec.py</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>dummy_training</h4>
                <p>Status: PASSED</p>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Dependency hyperparameters_s3_uri has low compatibility score: 0.420
                    <br><em>Recommendation: Consider renaming 'hyperparameters_s3_uri' or adding aliases to improve semantic matching; Add 'BatchTransform' to compatible_sources for hyperparameters_s3_uri</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>model_calibration</h4>
                <p>Status: PASSED</p>
                
            </div>
            </div>
        <div class="level-section">
            <div class="level-header">Level 4: Builder ↔ Configuration</div>
        
            <div class="test-result test-passed">
                <h4>currency_conversion</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Builder has required fields but no explicit validation logic detected
                    <br><em>Recommendation: Consider adding explicit validation logic for required configuration fields</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>dummy_training</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Builder has required fields but no explicit validation logic detected
                    <br><em>Recommendation: Consider adding explicit validation logic for required configuration fields</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>model_calibration</h4>
                <p>Status: PASSED</p>
                
                <div class="issue info">
                    <strong>INFO:</strong> Builder has required fields but no explicit validation logic detected
                    <br><em>Recommendation: Consider adding explicit validation logic for required configuration fields</em>
                </div>
                
            </div>
            </div>
    
    <div class="recommendations">
        <h2>Recommendations</h2>
        
    </div>
</body>
</html>