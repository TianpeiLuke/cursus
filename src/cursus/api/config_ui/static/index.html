<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursus Config UI</title>
    <link rel="stylesheet" href="/config-ui/static/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üéõÔ∏è Cursus Configuration Interface</h1>
            <p>Universal configuration management for all Cursus pipeline components</p>
        </header>

        <div class="main-content">
            <!-- Configuration Discovery Section -->
            <section class="config-discovery">
                <h2>üìä Available Configuration Types</h2>
                <div class="discovery-controls">
                    <button id="discover-btn" class="btn btn-primary">Discover Configurations</button>
                    <div class="workspace-input">
                        <label for="workspace-dirs">Workspace Directories (optional):</label>
                        <input type="text" id="workspace-dirs" placeholder="Enter comma-separated paths">
                    </div>
                </div>
                <div id="config-list" class="config-list"></div>
            </section>

            <!-- Configuration Creation Section -->
            <section class="config-creation">
                <h2>üé® Create Configuration</h2>
                <div class="creation-controls">
                    <div class="form-group">
                        <label for="config-type">Configuration Type:</label>
                        <select id="config-type" class="form-control">
                            <option value="">Select a configuration type...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="base-config">Base Configuration (JSON, optional):</label>
                        <textarea id="base-config" class="form-control" rows="4" 
                                  placeholder='{"author": "your-name", "bucket": "your-bucket", ...}'></textarea>
                    </div>
                    <button id="create-widget-btn" class="btn btn-success">Create Configuration Widget</button>
                </div>
            </section>

            <!-- Configuration Form Section -->
            <section class="config-form" id="config-form-section" style="display: none;">
                <h2>üìù Configuration Form</h2>
                <div id="config-form-container"></div>
                <div class="form-actions">
                    <button id="save-config-btn" class="btn btn-success">Save Configuration</button>
                    <button id="cancel-config-btn" class="btn btn-secondary">Cancel</button>
                    <button id="export-config-btn" class="btn btn-info">Export as JSON</button>
                </div>
            </section>

            <!-- Pipeline Wizard Section -->
            <section class="pipeline-wizard">
                <h2>üßô‚Äç‚ôÇÔ∏è Pipeline Configuration Wizard</h2>
                <div class="wizard-controls">
                    <div class="form-group">
                        <label for="dag-definition">DAG Definition (JSON):</label>
                        <textarea id="dag-definition" class="form-control" rows="6" 
                                  placeholder='{"nodes": [...], "edges": [...]}'></textarea>
                    </div>
                    <button id="create-pipeline-btn" class="btn btn-primary">Create Pipeline Wizard</button>
                </div>
                <div id="pipeline-wizard-container"></div>
            </section>

            <!-- Results Section -->
            <section class="results">
                <h2>üìã Configuration Results</h2>
                <div class="results-tabs">
                    <button class="tab-btn active" data-tab="json">JSON</button>
                    <button class="tab-btn" data-tab="python">Python</button>
                    <button class="tab-btn" data-tab="summary">Summary</button>
                </div>
                <div class="tab-content">
                    <div id="json-tab" class="tab-pane active">
                        <pre id="json-output"></pre>
                    </div>
                    <div id="python-tab" class="tab-pane">
                        <pre id="python-output"></pre>
                    </div>
                    <div id="summary-tab" class="tab-pane">
                        <div id="summary-output"></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Status Messages -->
        <div id="status-messages" class="status-messages"></div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Processing...</p>
            </div>
        </div>
    </div>

    <script src="/config-ui/static/app.js"></script>
</body>
</html>
